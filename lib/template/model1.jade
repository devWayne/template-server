doctype html
html
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')     
    title #{title}
    meta(name='description', content='')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    style.
      img{
          width:100%;
      }
      body{
          padding:0px;
          margin:0px;
      }
      .share-weixin{
          font-size:0px;
      }
      .btn{
          border-radius:5px;
          text-align:center;
          line-height:50px;
          font-size:22px;
          z-index:9999;
          position:absolute;
          background-color:#ffd71b;
          position:absolute;
          left:50%;
          margin-left:-150px;
          width:300px;
          height:50px;
          color:black !important;
          bottom:5%;
      }
      a{
          text-decoration:none;
      }
  body
    .share-weixin
      div(style='position:relative')
        img(src='#{webbanner}')
         a(href='#{link}')
          span.btn 立即查看     
        img(src='#{webbottom}')     
    script(src='http://i2.dpfile.com/hls/hippo2.min.v11.js')
    script.
      var shareConfig = {
                "appid":'#{appid}',
                "img_url":'#{share.thumb}',
                "img_width":"640",
                "img_height":"640",
                "link":"#{share.link}",
                "desc":'',
                "title":'#{share.title}',
                "timelineTitle":"#{share.title}"
      };
      var binded = false;
      function bindShare() {
      if (binded) {
      return;
      }
      if (window.WeixinJSBridge) {
      binded = true;
      //分享好友
      WeixinJSBridge.on('menu:share:appmessage', function(argv) {
      WeixinJSBridge.invoke('sendAppMessage', shareConfig, function(res) {});
      });
      //分享朋友圈
      WeixinJSBridge.on('menu:share:timeline', function(argv) {
      WeixinJSBridge.invoke('shareTimeline', shareConfig, function(res) {});
      });
      }
      }
      bindShare();
      document.addEventListener('WeixinJSBridgeReady', bindShare, false);

